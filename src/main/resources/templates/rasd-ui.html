<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>RASD UI</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/bootstrap-4.4.1-dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="container">
    <h1 class="text-center">RASD Report</h1>

    <!-- Document Information -->
    <div class="section">
        <h2>Document Information</h2>
        <div class="row">
            <div class="col-md-6">
                <p><strong>Document:</strong> <span th:text="${rasd.doc}">RASD</span></p>
            </div>
            <div class="col-md-6">
                <p><strong>Version:</strong> <span th:text="${rasd.version}">0.0.1</span></p>
            </div>
        </div>
    </div>

    <!-- MetaData Section -->
    <div class="section">
        <h2>MetaData</h2>
        <div class="row">
            <div class="col-md-6" th:if="${not #lists.isEmpty(rasd.metaData.roles)}">
                <p><strong>All Roles in System</strong></p>
                <ul>
                    <li th:each="role : ${rasd.metaData.roles}" th:text="${role}">Role</li>
                </ul>
            </div>
            <div class="col-md-6" th:if="${not #lists.isEmpty(rasd.metaData.permissions)}">
                <p><strong>Permissions:</strong></p>
                <ul>
                    <li th:each="permission : ${rasd.metaData.permissions}" th:text="${permission}">Permission</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Paths Section -->
    <div class="section paths-section">
        <h2>Paths</h2>
        <div th:each="entry : ${rasd.paths}" class="path-item">
            <!-- Include fragment for GET method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.get}, ${entry}, 'GET')"></div>
            <!-- Include fragment for POST method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.post}, ${entry}, 'POST')"></div>
            <!-- Include fragment for PUT method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.put}, ${entry}, 'PUT')"></div>
            <!-- Include fragment for DELETE method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.delete}, ${entry}, 'DELETE')"></div>
            <!-- Include fragment for OPTION method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.options}, ${entry}, 'OPTION')"></div>
            <!-- Include fragment for HEAD method -->
            <div th:replace="auth-frag :: authFragment(${entry.value.head}, ${entry}, 'HEAD')"></div>

        </div>
    </div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
